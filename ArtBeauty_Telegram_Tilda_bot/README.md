# üíá‚Äç‚ôÄÔ∏è ArtBeauty: Telegram + Tilda + Google Sheets

## üìå –û –ø—Ä–æ–µ–∫—Ç–µ
–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç —Ä–µ–∞–ª–∏–∑—É–µ—Ç —Å–∏—Å—Ç–µ–º—É –æ–Ω–ª–∞–π–Ω-–∑–∞–ø–∏—Å–∏ –¥–ª—è —Å–∞–ª–æ–Ω–∞ –∫—Ä–∞—Å–æ—Ç—ã:
- Telegram-–±–æ—Ç –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –∑–∞—è–≤–∫–∏ –æ—Ç –∫–ª–∏–µ–Ω—Ç–æ–≤.
- –í–µ–±-—á–∞—Ç –Ω–∞ —Å–∞–π—Ç–µ (Tilda) —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–æ —Ç–æ–π –∂–µ –ª–æ–≥–∏–∫–µ, —á—Ç–æ –∏ –±–æ—Ç.
- –í—Å–µ –∑–∞—è–≤–∫–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ Google Sheets.
- –ï—Å—Ç—å –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ AI-–∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–∏ –¥–ª—è –∫–ª–∏–µ–Ω—Ç–æ–≤ (LLM —á–µ—Ä–µ–∑ OpenAI).

–ü—Ä–æ–µ–∫—Ç –∑–∞–¥—É–º—ã–≤–∞–ª—Å—è –∫–∞–∫ **—Ç–µ—Å—Ç–æ–≤—ã–π —Ä–µ–∂–∏–º –∏ –æ—Ç–ª–∞–¥–∫–∞ –ª–æ–∫–∞–ª—å–Ω–æ —á–µ—Ä–µ–∑ ngrok**.  
–ü–æ—Å–ª–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –æ—Ç–ª–∞–¥–∫–∏ –¥–µ–ø–ª–æ–π –¥–µ–ª–∞–µ—Ç—Å—è –≤ –æ–±–ª–∞–∫–æ (Docker, Cloud Run, VPS).

---

## ‚öôÔ∏è –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ –∏ —Å—Ç–µ–∫
- **Python 3.10+**
- **Flask** ‚Äî –¥–ª—è –≤–µ–±—Ö—É–∫–æ–≤ –∏ REST API (`/webchat`).
- **python-telegram-bot v21** ‚Äî –¥–ª—è Telegram-–±–æ—Ç–∞.
- **Google Sheets API (Service Account)** ‚Äî —Ö—Ä–∞–Ω–∏–ª–∏—â–µ –∑–∞—è–≤–æ–∫.
- **OpenAI SDK** ‚Äî –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–∏ —á–µ—Ä–µ–∑ GPT-–º–æ–¥–µ–ª—å.
- **Tilda (HTML widget)** ‚Äî –æ–Ω–ª–∞–π–Ω-—á–∞—Ç –Ω–∞ —Å–∞–π—Ç–µ.
- **ngrok (dev)** ‚Äî –ø—Ä–æ–∫—Å–∏ –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π –æ—Ç–ª–∞–¥–∫–∏.
- **dotenv** ‚Äî —Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å–µ–∫—Ä–µ—Ç–æ–≤ –≤ `.env`.

---

## üóÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
```
ArtBeauty_Telegram_Tilda_GoogleSheets/
‚îú‚îÄ main.py                 # Flask + Telegram polling
‚îú‚îÄ functions.py            # –ª–æ–≥–∏–∫–∞: –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–∏, –∑–∞–ø–∏—Å—å, —Ä–∞–±–æ—Ç–∞ —Å Sheets
‚îú‚îÄ tilda_chat_widget.html  # HTML/JS-–≤–∏–¥–∂–µ—Ç –¥–ª—è Tilda
‚îú‚îÄ requirements.txt        # –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îú‚îÄ .gitignore              # –∏—Å–∫–ª—é—á–µ–Ω–∏—è (venv, creds, .env)
‚îî‚îÄ README.md               # –æ–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞
```

---

## üîë –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (.env)
```env
# Telegram
TELEGRAM_BOT_TOKEN=xxxxxxxxxxxxxxxxxxxx

# OpenAI
OPENAI_API_KEY=sk-xxxx
OPENAI_MODEL=gpt-4o-mini

# Google Sheets
GOOGLE_APPLICATION_CREDENTIALS=creds/service_account.json
GOOGLE_SHEETS_SPREADSHEET_ID=1AbcDEF...
GOOGLE_SHEETS_RANGE=artbeauty_sheet_leads!A:L

# CORS (–¥–ª—è Tilda-–¥–æ–º–µ–Ω–∞)
CORS_ALLOW_ORIGINS=*
```

---

## üíª –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Tilda
–í—Å—Ç–∞–≤—å –∫–æ–¥ –∏–∑ `tilda_chat_widget.html` –≤ –±–ª–æ–∫ **T123 ‚Üí HTML-–∫–æ–¥**.  
–ù–µ –∑–∞–±—É–¥—å –∑–∞–º–µ–Ω–∏—Ç—å URL –Ω–∞ —Ç–≤–æ–π (`https://.../webchat`).

---

## ‚úÖ –ß–µ–∫-–ª–∏—Å—Ç –ø–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º
- [ ] –£–∫–∞–∑–∞–Ω –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π `TELEGRAM_BOT_TOKEN`.  
- [ ] Service Account –∏–º–µ–µ—Ç –¥–æ—Å—Ç—É–ø **Edit** –∫ Google Sheets.  
- [ ] URL –≤ Tilda-–≤–∏–¥–∂–µ—Ç–µ —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ `/webchat`.  
- [ ] `CORS_ALLOW_ORIGINS` —Ä–∞–∑—Ä–µ—à–∞–µ—Ç Tilda-–¥–æ–º–µ–Ω.  

---

## üì¶ –ü—Ä–æ–¥-–¥–µ–ø–ª–æ–π
- –£–ø–∞–∫–æ–≤–∞—Ç—å –≤ **Docker** –∏–ª–∏ –∑–∞–¥–µ–ø–ª–æ–∏—Ç—å –≤ **–æ–±–ª–∞–∫–æ** (Cloud Run, Render, VPS).  
- –°–µ–∫—Ä–µ—Ç—ã –±—Ä–∞—Ç—å –∏–∑ –º–µ–Ω–µ–¥–∂–µ—Ä–∞ —Å–µ–∫—Ä–µ—Ç–æ–≤, –∞ –Ω–µ –∏–∑ `.env` –≤ git.  
- –ó–∞–º–µ–Ω–∏—Ç—å ngrok –Ω–∞ –ø–æ—Å—Ç–æ—è–Ω–Ω—ã–π HTTPS-–¥–æ–º–µ–Ω.  

---

## ‚ú® –ù–∞–≤—ã–∫–∏ –∏ –æ–ø—ã—Ç, –∑–∞–∫—Ä–µ–ø–ª—ë–Ω–Ω—ã–µ –≤ –ø—Ä–æ–µ–∫—Ç–µ
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è **Telegram Bot API** (python-telegram-bot v21).  
- –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ REST API –Ω–∞ **Flask**.  
- –†–∞–±–æ—Ç–∞ —Å **Google Sheets API** —á–µ—Ä–µ–∑ Service Account.  
- –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ **AI-–º–æ–¥–µ–ª–∏ (OpenAI)** –¥–ª—è –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–π.  
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Å–∞–π—Ç–æ–º (**Tilda**) —á–µ—Ä–µ–∑ HTML/JS-–≤–∏–¥–∂–µ—Ç.  
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ **ngrok** –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π –æ—Ç–ª–∞–¥–∫–∏ –≤–µ–±—Ö—É–∫–æ–≤.  
- –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏–π —á–µ—Ä–µ–∑ `.env` –∏ `.gitignore`.  
